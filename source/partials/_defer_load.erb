<script type="text/javascript">
  (function() {
    function loadStylesheet(url) {
      var stylesheet = document.createElement("link");
          stylesheet.type = "text/css";
          stylesheet.rel = "stylesheet";
          stylesheet.href = url;
          document.getElementsByTagName("head")[0].appendChild(stylesheet);
    }

    function loadScript(url, callback) {
      var script = document.createElement("script");
      script.type = "text/javascript";
      script.async = true;

      if (script.readyState) { // IE
        script.onreadystatechange = function() {
          if (script.readyState == "loaded" || script.readyState == "complete") {
            script.onreadystatechange = null;
            callback();
          }
        };
      } else { // Others
        script.onload = function() {
          callback();
        };
      }

      script.src = url;
      document.getElementsByTagName("head")[0].appendChild(script);
    }

    // Stylesheets
    loadStylesheet("<%= asset_path(:css, 'main') %>");

    // Javascripts
    loadScript("<%= asset_path(:js, 'main') %>", function(){});
    loadScript("//use.typekit.net/jra4cdq.js", function() {
      try {Typekit.load()} catch(e) {}
    });
  })();
</script>
